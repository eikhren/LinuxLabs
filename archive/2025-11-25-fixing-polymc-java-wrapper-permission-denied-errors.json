{
  "title": "Fixing PolyMC Java Wrapper Permission Denied Errors",
  "date": "2025-11-25",
  "context": "User attempting to run Minecraft via PolyMC with a custom Java wrapper on Ubuntu 24.04 received repeated 'nice: cannot set niceness: Permission denied' and 'unable to access jarfile' errors.",
  "category": "System Administration",
  "keyIdea": "Using 'setcap cap_sys_nice=eip' on the Java binary allows it to raise its own priority without sudo, avoiding PolyMC environment loss and permission prompts.",
  "commands": "sudo setcap cap_sys_nice=eip /usr/lib/jvm/java-25-openjdk-amd64/bin/java\n\nnano ~/.local/bin/java-mc\n# Paste clean wrapper:\n#!/bin/bash\nexec /usr/lib/jvm/java-25-openjdk-amd64/bin/java \"$@\"\n\nchmod +x ~/.local/bin/java-mc",
  "explanation": "Granting the Java binary the capability to set its own niceness removes the need for sudo in the wrapper, preventing permission and environment issues that block PolyMC's temporary jarfile access.",
  "reusabilityNotes": {
    "whenToReuse": "When running Java or similar binaries under a launcher that needs elevated scheduling priority but cannot run interactively with sudo.",
    "pitfalls": "Changing file capabilities requires root; remember to remove them later with 'sudo setcap -r' if reverting. Avoid using this on shared systems where untrusted code runs."
  },
  "uniquenessTag": "Uniqueness: New",
  "storedBy": "lesson-archive-api",
  "storedAt": "2025-11-25T16:20:41.949Z"
}